(this["webpackJsonpnc-news-frontend"]=this["webpackJsonpnc-news-frontend"]||[]).push([[0],{19:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(20),r=c.n(a),i=c(6),o=(c(26),c(3)),j=(c(27),c(0));function l(){return Object(j.jsx)("footer",{id:"Footer",children:Object(j.jsx)("h3",{id:"FooterH3",children:" An App by Scott Wears"})})}function u(e){var t=e.topics;return Object(j.jsx)("nav",{id:"Nav",children:Object(j.jsxs)("ul",{id:"navList",children:[Object(j.jsx)(i.b,{to:"/",className:"navLink",children:"Home"}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{className:"navLink",to:"/users",children:"Users"})}),t.map((function(e){var t=e.slug;return Object(j.jsx)("li",{className:"navLi",children:Object(j.jsx)(i.b,{className:"navLink",to:"/topic/".concat(t),children:t})},t)}))]})})}function d(e){var t=e.topics,c=e.setShowMenu;return Object(j.jsxs)("div",{className:"Menu",children:[Object(j.jsx)("span",{id:"closeMenu",onClick:function(){c(!1)},children:"X"}),Object(j.jsxs)("ul",{id:"menuList",children:[Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{className:"navLink",to:"/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{className:"navLink",to:"/users",children:"Users"})}),t.map((function(e){var t=e.slug;return Object(j.jsx)("li",{className:"navLi",children:Object(j.jsx)(i.b,{className:"navLink",to:"/topic/".concat(t),children:t})},t)}))]})]})}var b=c(21),m=c.n(b).a.create({baseURL:"https://continuum-news.herokuapp.com/api"});c(47);function O(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],l=r[1];return Object(n.useEffect)((function(){return m.get("/topics").then((function(e){return e.data})).then((function(e){var t=e.topics;l(t)})),function(){}}),[]),!0===c?(setTimeout((function(){s(!1)}),2e3),Object(j.jsxs)("header",{id:"Header",children:[Object(j.jsx)("h1",{id:"HeaderH1",children:"Northcoders News"}),Object(j.jsx)(d,{topics:i,setShowMenu:s})]})):Object(j.jsxs)("header",{id:"Header",children:[Object(j.jsx)("h1",{id:"HeaderH1",children:"Northcoders News"}),Object(j.jsx)("span",{onClick:function(){s(!0)},id:"menuIcon",children:"Menu"}),Object(j.jsx)(u,{topics:i})]})}var h=c(2);function x(e){var t=e.article,c=t.title,n=t.author,s=t.body,a=t.votes,r=t.article_id,o=t.topic,l=t.comment_count;return Object(j.jsxs)("div",{className:"ArticleCard",children:[Object(j.jsxs)("h3",{className:"articleTitle",children:[c,Object(j.jsxs)("span",{className:"articleTopic",children:[" ~ ",o]})]}),Object(j.jsxs)("p",{className:"articleAuthor",children:[n," ",l]}),Object(j.jsx)("p",{className:"articleBody textOverflowOff",children:s}),Object(j.jsxs)("div",{className:"votes",children:[Object(j.jsxs)("span",{className:"articleVotes",children:["Votes: ",a]}),Object(j.jsx)(i.b,{to:"/articles/".concat(r),className:"articleButton",children:"Read more..."})]})]})}function f(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)("created_at"),r=Object(o.a)(a,2),i=r[0],l=r[1];return Object(n.useEffect)((function(){(function(e){return m.get("/articles",{params:{sort_by:e}}).then((function(e){return e.data}))})(i).then((function(e){var t=e.articles;s(t)}))}),[i]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"ArticleSort",children:[Object(j.jsx)("p",{children:"sort by:.."}),Object(j.jsx)("br",{}),["created_at","votes","title","article_id","topic","author","comment_count"].map((function(e){return Object(j.jsx)("button",{onClick:function(){l(e)},children:e},e)}))]}),Object(j.jsx)("div",{className:"ArticleList",children:c.map((function(e){return Object(j.jsx)(x,{article:e},e.article_id)}))})]})}c(48),c(49);var v=Object(n.createContext)();function p(e){var t=e.comment,c=Object(n.useContext)(v).user,s=t.comment_id,a=function(e){!function(e){m.delete("/comments/".concat(e))}(e)};return c===t.author?Object(j.jsxs)("div",{className:"CommentCard",children:[Object(j.jsx)("p",{className:"commentBody",children:t.body}),Object(j.jsx)("p",{className:"commentAuthor",children:t.author}),Object(j.jsxs)("div",{className:"commentsVoteSection",children:[Object(j.jsxs)("p",{className:"commentVotes",children:["Votes: ",t.votes]}),Object(j.jsx)("button",{className:"commentButton",onClick:function(){a(s)},children:"delete"})]})]}):Object(j.jsxs)("div",{className:"CommentCard",children:[Object(j.jsx)("p",{className:"commentBody",children:t.body}),Object(j.jsx)("p",{className:"commentAuthor",children:t.author}),Object(j.jsx)("div",{className:"commentsVoteSection",children:Object(j.jsxs)("p",{className:"commentVotes",children:["Votes: ",t.votes]})})]})}function N(e){var t=e.id,c=Object(n.useState)([]),s=Object(o.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){(function(e){return m.get("/articles/".concat(e,"/comments")).then((function(e){return e.data.comments}))})(t).then((function(e){r(e)})).catch((function(e){}))})),Object(j.jsx)("div",{className:"CommentsContainer",children:a.map((function(e){return Object(j.jsx)(p,{comment:e},e.comment_id)}))})}c(50);var g=c.p+"static/media/404.2bd226ef.gif";function S(e){e.error;return Object(j.jsxs)("main",{className:"errorContainer",children:[Object(j.jsx)("p",{className:"errorStatus",children:"404"}),Object(j.jsx)("p",{className:"errorMsg",children:"Oh no did you take a wrong turn"}),Object(j.jsx)("img",{className:"gif",src:g,alt:"a funny gif"})]})}function C(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(n.useContext)(v).user;return Object(j.jsxs)("form",{id:"AddCommentForm",onSubmit:function(t){t.preventDefault();var c=t.target[0].value,n={username:r,body:c};!function(e,t){m.post("/articles/".concat(e,"/comments"),t)}(e.id,n)},children:[Object(j.jsx)("label",{for:"comment",children:"comment:"}),Object(j.jsx)("input",{required:!0,id:"commentInput",name:"comment",type:"text",value:s,onChange:function(e){a(e.target.value)}}),Object(j.jsx)("button",{id:"addCommentBtn",className:"commentButton",type:"submit",value:"Submit",children:"Add Comment"})]})}function y(e){var t=e.article_id,c=e.votes,s=Object(n.useState)(0),a=Object(o.a)(s,2),r=a[0],i=a[1],l=function(e){var t;i((function(e){return e})),t=e,m.patch("/articles/".concat(t),{inc_votes:1}).then((function(e){return e}))};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{className:"singlearticleVotes",children:["Votes: ",c+r]}),Object(j.jsx)("button",{className:"singlearticleButton",onClick:function(){i((function(e){return e+1})),l(t)},children:"Add Vote"})]})}function k(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],s=t[1],a=c.title,r=c.body,i=c.votes,l=c.author,u=c.article_id,d=Object(n.useState)(null),b=Object(o.a)(d,2),O=b[0],x=b[1],f=Object(h.g)().id;return Object(n.useEffect)((function(){(function(e){return m.get("/articles/".concat(e)).then((function(e){return e.data.articles[0]}))})(f).then((function(e){s(e)})).catch((function(e){x({status:404,msg:"Oh no did you take a wrong turn"})}))}),[f]),null!==O?Object(j.jsx)(S,{error:O}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"singlearticle",children:[Object(j.jsx)("h4",{className:"singlearticleHeading",children:a}),Object(j.jsx)("p",{className:"singlearticleAuthor",children:l}),Object(j.jsx)("p",{className:"singlearticleBody",children:r}),Object(j.jsx)("div",{className:"sAVotesContainerer",children:Object(j.jsx)(y,{votes:i,article_id:u})}),Object(j.jsx)(C,{id:f})]}),Object(j.jsx)(N,{id:f,author:l},u+Math.random())]})}function _(){var e=Object(h.g)().topic,t=Object(n.useState)([]),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){(function(e){return m.get("/articles?topic=".concat(e)).then((function(e){return e.data}))})(e).then((function(e){var t=e.articles;a(t)})).catch((function(e){404===e.response.status&&u({status:404,msg:"Oh no did you take a wrong turn"})}))}),[e]),null!==l?Object(j.jsx)(S,{error:l}):Object(j.jsx)("main",{id:"TopicList",className:"container",children:s.map((function(e){return Object(j.jsx)(x,{article:e},e.article_id)}))})}c(19);function A(e){var t=e.user,c=t.name,n=t.username,s=t.avatar_url,a="avatar image for ".concat(n);return Object(j.jsxs)("div",{className:"UserProfile",children:[Object(j.jsx)("img",{className:"userAvatar",src:s,alt:a}),Object(j.jsx)("h4",{className:"userName",children:n}),Object(j.jsx)("p",{className:"userRealName",children:c})]})}function w(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){return m.get("/users").then((function(e){return e.data.users})).then((function(e){s(e)})),function(){}}),[]),Object(j.jsx)("div",{className:"UserContainer",children:c.map((function(e){return Object(j.jsx)(A,{user:e},e.username)}))})}var L=function(){var e=Object(n.useState)("grumpy19"),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(j.jsx)(v.Provider,{value:{user:c,setUser:s},children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{}),Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/*",element:Object(j.jsx)(S,{})}),Object(j.jsx)(h.a,{exact:!0,path:"/",element:Object(j.jsx)(f,{})}),Object(j.jsx)(h.a,{exact:!0,path:"/articles",element:Object(j.jsx)(f,{})}),Object(j.jsx)(h.a,{path:"/articles/:id",element:Object(j.jsx)(k,{})}),Object(j.jsx)(h.a,{path:"/topic/:topic",element:Object(j.jsx)(_,{})}),Object(j.jsx)(h.a,{path:"/users",element:Object(j.jsx)(w,{})})]}),Object(j.jsx)(l,{})]})})};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(L,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.27d91b12.chunk.js.map